<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Deploy a Python Web App With 3rd-Party Packages to Heroku | Alyssa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="heroku,python,numpy,pandas,automation">
  

  <meta name="description" content="GoalTo deploy a Python web app with various mathematical, scientific, text-processing packages to a cloud hosting platform-as-a-service. My required 3rd-party Python packages/modules:  Numpy (fundamen">
<meta name="keywords" content="heroku,python,numpy,pandas,automation">
<meta property="og:type" content="article">
<meta property="og:title" content="Deploy a Python Web App With 3rd-Party Packages to Heroku">
<meta property="og:url" content="alyssaq.github.io/2014/deploy-a-python-web-app-with-3rdparty-packages-to-heroku/index.html">
<meta property="og:site_name" content="Alyssa">
<meta property="og:description" content="GoalTo deploy a Python web app with various mathematical, scientific, text-processing packages to a cloud hosting platform-as-a-service. My required 3rd-party Python packages/modules:  Numpy (fundamen">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-04-28T10:36:06.841Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Deploy a Python Web App With 3rd-Party Packages to Heroku">
<meta name="twitter:description" content="GoalTo deploy a Python web app with various mathematical, scientific, text-processing packages to a cloud hosting platform-as-a-service. My required 3rd-party Python packages/modules:  Numpy (fundamen">
  
  

  <link rel="stylesheet" href="/css/style.css">
  
  
    <link rel="stylesheet" href="/scrollLoading/style.css">
  
  


  
    
      <style type="text/css">
          .logo { background-image:url(https://s.gravatar.com/avatar/68dd6178c6868bff37f7c2e196201ff8?s=80);
          
          
          
          }

        
      </style>
    
  

  
    <link href='//fonts.googleapis.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
</head>

<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">Alyssa Quek</p>
            </h2>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/">Home</a></li>
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/about/index.html">About</a></li>
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                
                  <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="alyssaq.github.io"></form>
                
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/tech/">tech</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-deploy-a-python-web-app-with-3rdparty-packages-to-heroku" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      Deploy a Python Web App With 3rd-Party Packages to Heroku
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2014/deploy-a-python-web-app-with-3rdparty-packages-to-heroku/" class="article-date">
  <time datetime="2014-02-18T16:34:00.000Z" itemprop="datePublished">19-Feb-2014</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><p>To deploy a Python web app with various mathematical, scientific, text-processing packages to a cloud hosting <a href="http://en.wikipedia.org/wiki/Platform_as_a_service" target="_blank" rel="noopener">platform-as-a-service</a>.</p>
<p>My required 3rd-party Python packages/modules:</p>
<ul>
<li><a href="http://numpy.org" target="_blank" rel="noopener">Numpy</a> (fundamental package for scientific computing with numbers)</li>
<li><a href="http://scipy.org" target="_blank" rel="noopener">Scipy</a> (scientific computing tools)</li>
<li><a href="http://pandas.pydata.org" target="_blank" rel="noopener">Pandas</a> (high-performance, easy-to-use data structures for data pre-processing and analytics)</li>
<li><a href="http://scikit-learn.org" target="_blank" rel="noopener">Scikit-learn</a> (machine learning, data mining, data analysis) </li>
<li><a href="textblob.readthedocs.org">Textblob</a> (simplified text-processing version of <a href="http://nltk.org" target="_blank" rel="noopener">nltk</a>)</li>
</ul>
<h3 id="What-I-tried-and-failed"><a href="#What-I-tried-and-failed" class="headerlink" title="What I tried and failed"></a>What I tried and failed</h3><p>I spent a few hours attempting to create a boilerplate web application with the required packages to be deployed on Google App Engine. Creating a restful API for GAE was easy (<a href="https://github.com/alyssaq/flask-restful-api-appengine" target="_blank" rel="noopener">heres mine on Github</a> using Flask). However, adding the scientific packages I needed was Hell. </p>
<p>In summary, GAE does <a href="https://developers.google.com/appengine/kb/general#libraries" target="_blank" rel="noopener">NOT support a lot of C-based modules</a>. So, say goodbye to a handful of Python scientific packages which depend on compiling various C-based libraries.<br>While GAE does provide numpy, if you want pandas at some imaginary point in the future, you’ll have to <a href="https://code.google.com/p/googleappengine/issues/detail?id=8620" target="_blank" rel="noopener">vote on their thread</a>. </p>
<p>Next up, PiCloud. Oh, they joined Dropbox and no longer allow sign-ups. </p>
<p>No, I do not want to bother with AWS. No, I do not want to merely run analytics up in the cloud with wakari or pythonanywhere.</p>
<h2 id="Deploy-scientific-Python-with-Heroku-buildpack"><a href="#Deploy-scientific-Python-with-Heroku-buildpack" class="headerlink" title="Deploy scientific Python with Heroku buildpack"></a>Deploy scientific Python with Heroku buildpack</h2><p>Building numpy, scipy, pandas, etc over and over again with each deployment gets old VERY quick.<br><em>Solution:</em> Use a <a href="https://devcenter.heroku.com/articles/buildpacks" target="_blank" rel="noopener">buildpack</a> to prepare your dyno before your app executes. The custom buildpacks listed below uses the binary distributions of the required packages so this means not having to build numpy with each push to Heroku (joy!). </p>
<p>Useful Buildpacks:</p>
<ul>
<li><a href="https://github.com/heroku/heroku-buildpack-python" target="_blank" rel="noopener">Heroku’s python buildpack</a> - for simple python web apps</li>
<li><a href="https://github.com/dbrgn/heroku-buildpack-python-sklearn" target="_blank" rel="noopener">Above buildpack + base scientific packages</a> - for python web apps with numpy, scipy and/or scikit-learn (only Python 2.7.4)</li>
<li><a href="https://github.com/alyssaq/heroku-buildpack-python-sklearn" target="_blank" rel="noopener">Above buildpack + textblob with core nltk corpora</a> - this is my fork of the above buildpack with a script to download and cache core nltk corpora for textblob. </li>
</ul>
<h3 id="How-to-deploy-with-a-Heroku-buildpack"><a href="#How-to-deploy-with-a-Heroku-buildpack" class="headerlink" title="How to deploy with a Heroku buildpack"></a>How to deploy with a Heroku buildpack</h3><p>1) Create a simple Python web app that imports some scientific packages. As an example, Im using <a href="https://github.com/alyssaq/bottle-heroku-skeleton" target="_blank" rel="noopener">my bottle-skeleton app</a></p>
<p>2) Clone the repo and add to git:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@github.com:alyssaq/bottle-heroku-skeleton.git</span><br><span class="line">$ git init</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">"init"</span></span><br></pre></td></tr></table></figure>
<p>3) Add any additional dependencies in <code>requirements.txt</code> (the skeleton app already includes numpy, textblob and pandas)</p>
<p>4) Login to heroku, set the custom buildpack and deploy!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ heroku login</span><br><span class="line">$ heroku config:<span class="built_in">set</span> BUILDPACK_URL=https://github.com/alyssaq/heroku-buildpack-python-sklearn</span><br><span class="line">$ git push heroku master</span><br></pre></td></tr></table></figure>
<p>5) Open your browser and ensure that the home page loads with the <code>Hi</code> text. If it does, its all good to go.</p>

      </div>
      <footer class="article-footer">
        <a data-url="alyssaq.github.io/2014/deploy-a-python-web-app-with-3rdparty-packages-to-heroku/" data-id="cjgjaxiif0007zjifvw6uvue1" class="article-share-link"><i class="fa fa-share"></i>Share</a>
        
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/automation/">automation</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/heroku/">heroku</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/numpy/">numpy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pandas/">pandas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

      </footer>
    </div>
  </article>
  
  

            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>follow:</p>
    <ul class="social-links">
      
        <li><a class="social-tooltip" title="twitter" href="https://twitter.com/alyssaquek" target="_blank"><i class="icon fa fa-twitter"></i></a></li>
      
        <li><a class="social-tooltip" title="facebook" href="https://www.facebook.com/alyssaq" target="_blank"><i class="icon fa fa-facebook"></i></a></li>
      
        <li><a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/alyssaq" target="_blank"><i class="icon fa fa-linkedin"></i></a></li>
      
        <li><a class="social-tooltip" title="github" href="https://github.com/alyssaq" target="_blank"><i class="icon fa fa-github"></i></a></li>
      
        <li><a class="social-tooltip" title="rss" href="/atom.xml" target="_blank"><i class="icon fa fa-rss"></i></a></li>
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/ready-player-one--summary-and-aftereffects/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <p class="article-nav-title">
        
          Ready Player One - Summary and After-Effects
        
      </p>
      <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2014/view-math-equations-in-markdown-with-mathjax/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <p class="article-nav-title">View Math Equations in Markdown With MathJax</p>
      <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
      
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/data-science/">data science</a></p>
              <p class="item-title"><a href="/2015/20150426-simple-movie-recommender-using-svd/" class="title">Simple Movie Recommender Using SVD</a></p>
              <p class="item-date"><time datetime="2015-04-26T06:13:00.000Z" itemprop="datePublished">26-Apr-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/tech/">tech</a></p>
              <p class="item-title"><a href="/2015/deploy_gzip_site_s3/" class="title">Site Deployment With Gzipped Assets to AWS S3 Using CircleCI</a></p>
              <p class="item-date"><time datetime="2015-04-16T10:02:00.000Z" itemprop="datePublished">16-Apr-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/stuff/">stuff</a></p>
              <p class="item-title"><a href="/2015/face-morpher-talk-at-foss-asia/" class="title">Face Morpher Talk at FOSS Asia</a></p>
              <p class="item-date"><time datetime="2015-03-14T11:08:00.000Z" itemprop="datePublished">14-Mar-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/data-science/">data science</a></p>
              <p class="item-title"><a href="/2015/singular-value-decomposition-visualisation/" class="title">Singular Value Decomposition (SVD) Visualisation</a></p>
              <p class="item-date"><time datetime="2015-02-23T19:03:00.000Z" itemprop="datePublished">24-Feb-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/data-science/">data science</a></p>
              <p class="item-title"><a href="/2015/computing-the-axes-or-orientation-of-a-blob/" class="title">Computing the Axes or Orientation of a Blob</a></p>
              <p class="item-date"><time datetime="2015-01-13T19:30:00.000Z" itemprop="datePublished">14-Jan-2015</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/data-science/">data science</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/stuff/">stuff</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">tech</a><span class="category-list-count">6</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/api/">api</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aws/">aws</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/book/">book</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computer-vision/">computer vision</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dropbox/">dropbox</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linear-algebra/">linear algebra</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multithreading/">multithreading</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/">numpy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opencv/">opencv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/">pandas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/queue/">queue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ready-player-one/">ready_player_one</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-float">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/automation/" style="font-size: 12.5px;">automation</a> <a href="/tags/aws/" style="font-size: 10px;">aws</a> <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/book/" style="font-size: 10px;">book</a> <a href="/tags/computer-vision/" style="font-size: 17.5px;">computer vision</a> <a href="/tags/dropbox/" style="font-size: 10px;">dropbox</a> <a href="/tags/heroku/" style="font-size: 10px;">heroku</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/linear-algebra/" style="font-size: 15px;">linear algebra</a> <a href="/tags/mac/" style="font-size: 12.5px;">mac</a> <a href="/tags/markdown/" style="font-size: 12.5px;">markdown</a> <a href="/tags/math/" style="font-size: 12.5px;">math</a> <a href="/tags/multithreading/" style="font-size: 10px;">multithreading</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/numpy/" style="font-size: 10px;">numpy</a> <a href="/tags/opencv/" style="font-size: 10px;">opencv</a> <a href="/tags/pandas/" style="font-size: 10px;">pandas</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/queue/" style="font-size: 10px;">queue</a> <a href="/tags/ready-player-one/" style="font-size: 10px;">ready_player_one</a>
    </div>
  </div>


    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2018 Alyssa Quek</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
      </div>
    </div>
  </div>
</footer>
    


  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>





  <script src="/scrollLoading/jquery.scrollLoading.js"></script>
  <script src="/scrollLoading/main.js"></script>




<script src="/js/html-patch.js"></script>
<script src="/js/script.js"></script>
<script src="/js/prism.js"></script>

  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
